"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{22578:(e,t,a)=>{a.d(t,{$:()=>d});var n=a(67294),r=a(64593),c=a(96206),i=a(69691),s=a(8341),l=a(89952),o=a(51615),m=a(24183);function g(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const d=({children:e,usePlayingItem:t})=>{let a=g(e);(e=>{const{mainLandmarkRef:t}=(0,m.Oh)(),a=(0,o.k6)(),r=a.location?.state?.preventMoveFocus,c=(0,n.useRef)(a.length<2);c.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;!r&&!c.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,r])})(e);const{isPlaying:d}=(0,i.IK)(),u=(0,s.Y)((e=>e?.item));return u&&(d||t)&&((0,l.G_)(u)?a=[u.name,u.artists.map((e=>e.name)).join(c.ag.getSeparator())].join(" • "):(0,l.iw)(u)?a=[u.name,u.show.name].join(" • "):(0,l.k6)(u)&&(a=g(c.ag.get("ad-formats.advertisement")))),n.createElement(r.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},46145:(e,t,a)=>{a.d(t,{k:()=>N});var n=a(67294),r=a(9414),c=a(87722),i=a(28760),s=a(67892),l=a(94880),o=a(43315),m=a(9339);const g="wedRUk4eiBo9n9vqXLhU",d="HYVIJaYYiCTgSCHie70L",u="InXSbaoh8emJn09fWs3U",h="SPbe_Q1wtiZQCmo0QKUy",p="TRp4tgG7_cymGIXDevIP",y="tC1Y_nwyyly7cpIGqF5K",E="gY_xUHOSpAn6TPdU23t7",k="l93AfoV_qHnMQSQBB5GK",v="MTTf1Lotynwu3QKhr9uY",f="EkGb0ZzhswreSvpZoioY",N=n.memo((function(e){const{entity:t,isVirtual:a,shouldCombineRecs:N}=e,{venue:{name:b,location:{name:_}}}=t,C=t.artists[0],D=(0,m.ij)(t),I=new Date(t.date.isoString),w=a?r.F:c.n;return n.createElement(s.r,{to:`/concert/${t.id}`,className:g},C.imageUri?n.createElement(l.Z,null,n.createElement("div",{"data-testid":"image-container",className:f,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${C.imageUri})`}})):null,n.createElement("time",{className:d,dateTime:t.date.isoString},n.createElement(i.Dy,{as:"h5",variant:"minuetBold",className:u},`${(0,m.lJ)(I)} ${I.getDate()}`)),n.createElement("div",{className:h,dir:"auto"},n.createElement(i.Dy,{as:"h2",className:v,variant:"minuetBold"},(0,o.FO)(I)," • ",(0,m.b8)(I)),n.createElement(i.Dy,{as:"h2",variant:"cello",weight:"bold",className:p},D),n.createElement("div",{className:y},N?n.createElement(w,{className:E,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,n.createElement(i.Dy,{as:"h2",className:k,variant:"mesto","data-testid":"location-name"},a?b:`${b}, ${_}`))))}))},83690:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var n=a(67294),r=a(28216),c=a(51615),i=a(96206),s=a(6581),l=a(1663),o=a(50458),m=a(87462),g=a(28760),d=a(99450),u=a(87577),h=a(95661),p=a(3634),y=a(30005),E=a(42922),k=a(72895),v=a(21366);const f=n.memo((function({uri:e}){return n.createElement(E.ZP,{value:"concert"},n.createElement(y.v,null,n.createElement(v.q,null,n.createElement(k.Jx,{uri:e,displayText:i.ag.get("context-menu.copy-concert-link")}),n.createElement(k.W2,{uri:e})),n.createElement(k.h$,{uri:e})))}));var N=a(70369),b=a(42273),_=a(59482),C=a(72907),D=a(67892),I=a(19480),w=a(21973),B=a(75304),L=a(25678);const U={concertCalendarBackground:"rgHpYneRuCLsOyfmI2jF",concertCalendarDate:"lr40ubW1eB4EezYzf313",concertContainer:"XQIbZRhBVDxK2jEcGfeS",header:"RJhxchVqiOAPQKl6EUU7",concertEntityBody:"sOKlgL5TzQ2p74aQFjRh",concertEntityPartnerAttribution:"u3QEyws6_AhQuuMCDgMC",metadataContainer:"WKrdOaRnI9VfK1UYUqvT",headerButtonsFlex:"wRw16oMCyx5YFQNGNOrx",headerButtonsGrid:"VHRiF8JERizZ2hUJFuvv",headerButtonLinkFlex:"Qk0C6SVosgSVRm8n1Umo",headerButtonLinkGrid:"wV775Pr50OGgK_FdTufn",ticketIconContainer:"A0tCEFULNmQTQVO3ICMV",ticketIcon:"kCaMmmmuRwJ0XVnPRIv4",externalLinkIcon:"kUcrmLBN4InQRGIOEpRz",buttonLinkTextContainer:"d6o_X8ptm5nNBf04i9Hq",moreButtonOld:"Xqn9AQ7z7JwrTvvecH1k",moreButtonNew:"PMPCg0VMJpsEvziDZZnv",sectionHeader:"XXABme7Q0el8rITiSDHg",topBarContent:"Cc4TFd0C5345deatsGJ0",topBarButton:"WFYjBxC2n1dvj6wvcpqk",sectionContainer:"IgugoubNHrWe50NJKajx",concertDate:"TfyNLJsVXqn4J_NaO810"},T=e=>{const{ticketLink:t,handleConcertLinkClick:a}=e;let r=t.imageURL;if(""===t.imageURL)switch(t.partnerDisplayName){case"AXS":r="https://tickets.spotifycdn.com/partner-assets/axs.svg";break;case"Dice":r="https://tickets.spotifycdn.com/partner-assets/dice.svg";break;case"Eventbrite":r="https://tickets.spotifycdn.com/partner-assets/eventbrite.svg";break;case"Eventim":r="https://tickets.spotifycdn.com/partner-assets/eventim.svg";break;case"Jambase":r="https://tickets.spotifycdn.com/partner-assets/jambase.svg";break;case"Resident Advisor":r="https://tickets.spotifycdn.com/partner-assets/residentadvisor.svg";break;case"See Tickets":r="https://tickets.spotifycdn.com/partner-assets/seetickets.svg";break;case"Songkick":r="https://tickets.spotifycdn.com/partner-assets/songkick.svg";break;case"Spotify":r="https://tickets.spotifycdn.com/partner-assets/spotify.svg";break;case"Ticketmaster":r="https://tickets.spotifycdn.com/partner-assets/ticketmaster.svg";break;default:r=""}return n.createElement(D.Z,{draggable:!1,className:U.headerButtonLinkGrid,to:t.url,target:"_blank",onClick:a},n.createElement("div",{className:U.ticketIconContainer},n.createElement(L.Ee,{className:U.ticketIconImage,loading:"eager",srcSet:r,src:r,height:"100%",width:"100%"},n.createElement(w.i,{className:U.ticketIcon,iconSize:24}))),n.createElement("div",{className:U.buttonLinkTextContainer},n.createElement(g.Dy.span,null,t.partnerDisplayName),n.createElement(B.T,{className:U.externalLinkIcon,iconSize:24})))};var $=a(56802),x=a(51574),P=a(20246),R=a(31595),S=a(8247),A=a(26375),H=a(34722),Z=a(9339),J=a(94880);const O="e0VN3GmM25lCYyAIWjim",F="uPLqiz_BFUytfHNLP5zN",z="LJ8tzLtEEECRuUQv87nE",G="tR6GHIdHN3D9ZRuLo1gd",Q="T_IWs9HLesaBWiylLaox",Y="KPIfiziXg8ByZ0elFPx9",M=n.memo((function(e){const{entity:t,headliner:a}=e,{imageUri:r,name:c,uri:s}=t;return n.createElement(D.r,{to:s,className:O},r?n.createElement(J.Z,null,n.createElement("div",{"data-testid":"image-container",className:Y,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${r})`}})):null,n.createElement("div",{className:F},a&&n.createElement("div",{className:G},n.createElement(g.Dy,{as:"h4",variant:"minuet",className:Q,weight:"bold"},i.ag.get("concert.label.headliner"))),n.createElement(g.Dy,{as:"h2",variant:"alto",className:z},c)))}));var V=a(46145);const q={concertsHubCard:"aX5g9MgOPCph10dhugIm",metadata:"qJIbuz2sOfyiYjXqKwHX",title:"OaZRJG9iMNJZ4pcWi7cx",image:"HKMt7en7H2xbp3cXFP3k"},X=n.memo((function(){return n.createElement(D.r,{to:"spotify:concerts",className:q.concertsHubCard},n.createElement(J.Z,null,n.createElement("div",{className:q.image,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})),n.createElement("div",{className:q.metadata},n.createElement(g.Dy,{as:"h2",variant:"canon",className:q.name},i.ag.get("concerts_browse_more"))))})),K=e=>{const t=new Date(Date.parse(e.date));return n.createElement("div",{className:U.concertCalendarBackground},n.createElement(g.Dy,{as:"h3",variant:"canon",className:U.concertCalendarDate},(0,Z.NL)(t)))},j=e=>{const{clickThrus:t,ticketers:a,date:r,venue:c,location:s,clickThruUrl:l,id:o,category:m,lat:p,lon:y,ticketAvailabilityTranslated:E}=e,k=new Date(Date.parse(r)),v=`spotify:concert:${o}`,N="ONLINE"===m,b=(0,u.W6)(S.Aw),_=(0,$.o)();function C(){_({targetUri:v,intent:"find-concert",type:"click"})}const I=a??t??[];if(0===I.length)return null;if((0,Z.O1)(k))return n.createElement("div",{className:U.metadataContainer},n.createElement(g.Dy,{as:"h3",variant:"canon"},i.ag.get("concert_event_ended")),n.createElement(g.Dy,{variant:"ballad"},n.createElement(D.Z,{to:"spotify:concerts"},i.ag.get("concert_past_message"))));const w=N?i.ag.get("concert_find_virtual_event"):i.ag.get("concert.button.see_tickets");return n.createElement("div",{className:U.metadataContainer},n.createElement(g.Dy,{as:"h3",variant:"canon"},(()=>{if(N)return n.createElement(g.Dy,{as:"h3",variant:"canon"},c);const e=`https://maps.google.com/?q=${encodeURIComponent(`${c},${s}`)}&ll=${p},${y}`;return n.createElement(D.Z,{to:e,target:"_blank"},n.createElement(g.Dy,{as:"h3",variant:"canon"},`${c}, ${s}`))})()),n.createElement(g.Dy,{as:"h3",variant:"mesto",className:U.concertDate},(0,Z.Ms)(k)," • ",(0,Z.b8)(k)),n.createElement(g.Dy,{as:"h3",className:U.concertEntityPartnerAttribution,variant:"mesto"},(e=>0===e.length?null:1===e.length?i.ag.get("concert.header.tickets_from_1",e[0].partnerDisplayName):2===e.length?i.ag.get("concert.header.tickets_from_2",e[0].partnerDisplayName,e[1].partnerDisplayName):3===e.length?i.ag.get("concert.header.tickets_from_3",e[0].partnerDisplayName,e[1].partnerDisplayName,e[2].partnerDisplayName):i.ag.get("concert.header.tickets_from_4",e[0].partnerDisplayName,e[1].partnerDisplayName,e[2].partnerDisplayName,e.length-3))(I)),E&&E.length>0&&n.createElement(g.Dy,{as:"h3",className:U.concertEntityPartnerAttribution,variant:"mesto"},E),b&&n.createElement(P.y,{menu:n.createElement(f,{uri:v})},n.createElement(h.z,{size:32,className:U.moreButtonNew})),b&&n.createElement(g.Dy.h3,{variant:"canon"},i.ag.get("concert.header.available_tickets_from")),b?n.createElement("div",{className:U.headerButtonsGrid},I.map((e=>n.createElement(T,{key:e.partnerDisplayName,ticketLink:e,handleConcertLinkClick:C})))):n.createElement("div",{className:U.headerButtonsFlex},n.createElement(d.D,{colorSet:"invertedLight",draggable:!1,className:U.headerButtonLinkFlex,href:l,target:"_blank",onClick:C},w),n.createElement(P.y,{menu:n.createElement(f,{uri:v})},n.createElement(h.z,{size:32,className:U.moreButtonOld}))))},W=e=>{const{albums:t,artists:a}=e,r=t.reduce(((e,t)=>{const a=t.artistName;return e[a]?e[a].push(t):e[a]=[t],e}),{});return n.createElement("div",{className:U.sectionHeader},a.map(((e,t)=>{const a=r[e.name]||[],c=a.length+2;let s=a.map(((t,a)=>n.createElement(p.r,(0,m.Z)({index:a,key:a},((e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,sharingInfo:null,type:A.albumType.ALBUM}))(t,e.uri)))));return s=[null,n.createElement(M,{entity:e,headliner:0===t,key:`ConcertArtistCard-${e.id}`})].concat(s),n.createElement(E.ZP,{value:"headered-grid",index:t,key:t},n.createElement(I.P,{title:0===t?i.ag.get("concert_lineup"):"",total:c,seeAllUri:`${(0,H.GJ)(e.id)}:discography`,seeAllLabel:i.ag.get("artist-page.show-discography")},s))})))},ee=e=>{const t=e.upcomingConcerts;if(!t||t.length<1)return null;const a=t.map((e=>n.createElement(V.k,{entity:e,key:e.id})));return n.createElement("div",{className:U.sectionContainer},n.createElement(E.ZP,{value:"headered-grid"},n.createElement(I.P,{title:i.ag.get("concerts_more_events"),total:t.length+1},n.createElement(X,null),a)))},te=e=>{const{concert:t,upcomingConcerts:a,artists:r,albums:c,color:s,headerImageUri:l,ticketAvailabilityTranslated:o}=e.concert,g=[{url:l,width:100,height:100}],h=(0,u.W6)(S.Aw),p=(0,$.o)();const y="ONLINE"===t.category?i.ag.get("concert_find_virtual_event"):i.ag.get("concert.button.see_tickets");return(0,R.Y)(s),n.createElement("section",{className:U.header},n.createElement(N.$,null,(0,Z.Yl)(t)),n.createElement(b.gF,{backgroundImages:g,backgroundColor:s},n.createElement(b.sP,null,n.createElement(b.T0,null,n.createElement(K,t)),n.createElement(b.xd,null,(0,Z.Yl)(t))),n.createElement(_.W,null,n.createElement("div",{className:U.topBarContent},n.createElement(C.i,{text:(0,Z.Yl)(t)}),!h&&n.createElement(D.Z,{draggable:!1,className:U.headerButtonLink,to:t.clickThruUrl,target:"_blank"},n.createElement(d.D,{colorSet:"invertedLight",className:U.topBarButton,onClick:function(){p({targetUri:`spotify:concert:${t.id}`,intent:"find-concert",type:"click"})}},y))))),n.createElement("div",{className:U.concertContainer},n.createElement(x.I,{backgroundColor:s}),n.createElement("div",{className:U.concertEntityBody},n.createElement(j,(0,m.Z)({},t,{ticketAvailabilityTranslated:o})),n.createElement(W,{artists:r,albums:c}),n.createElement(ee,{upcomingConcerts:a}))))},ae=n.memo(te),ne=n.memo((function(){const{concertId:e}=(0,c.UO)(),t=(0,r.I0)(),a=`spotify:concert:${e}`,m=(0,r.v9)((e=>(0,o.y)(a,e)));return(0,n.useEffect)((()=>{t((0,s.l$)(e))}),[t,e]),m?n.createElement(ae,{concert:m}):n.createElement(l.h,{hasError:!1,errorMessage:i.ag.get("concert.error.concert_not_found_title")})}))},9339:(e,t,a)=>{a.d(t,{Ms:()=>r,NL:()=>s,O1:()=>o,Yl:()=>d,b8:()=>c,cd:()=>l,ij:()=>u,lJ:()=>i});var n=a(96206);const r=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),i=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),s=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),l=e=>n.ag.formatDate(e,{weekday:"short"}),o=e=>e<new Date,m={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},g=(e,t)=>{const a=m[t],n=(e=>{try{return!e.title||!e.festival&&e.artists?.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},d=e=>g(e,"row"),u=e=>g(e,"entity")},50458:(e,t,a)=>{function n(e,t){return t.concerts.all[e]||null}a.d(t,{y:()=>n})},34722:(e,t,a)=>{a.d(t,{B$:()=>i,GJ:()=>r,Hr:()=>n,qo:()=>c});const n=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],r=e=>`spotify:app:artist:${e}`,c=e=>`spotify:artist:${e}`,i=(e,t,a)=>({artists:[{uri:t,name:a}],images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo})}}]);
//# sourceMappingURL=xpui-routes-concert.js.map