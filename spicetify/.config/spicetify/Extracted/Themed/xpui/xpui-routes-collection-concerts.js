"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{40771:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(87462),c=a(67294),r=a(67892);const o=({href:e,children:t,...a})=>c.createElement(r.Z,(0,n.Z)({to:e},a),t)},22578:(e,t,a)=>{a.d(t,{$:()=>u});var n=a(67294),c=a(64593),r=a(96206),o=a(69691),l=a(8341),i=a(89952),s=a(51615),m=a(24183);function g(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const u=({children:e,usePlayingItem:t})=>{let a=g(e);(e=>{const{mainLandmarkRef:t}=(0,m.Oh)(),a=(0,s.k6)(),c=a.location?.state?.preventMoveFocus,r=(0,n.useRef)(a.length<2);r.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;!c&&!r.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,c])})(e);const{isPlaying:u}=(0,o.IK)(),d=(0,l.Y)((e=>e?.item));return d&&(u||t)&&((0,i.G_)(d)?a=[d.name,d.artists.map((e=>e.name)).join(r.ag.getSeparator())].join(" • "):(0,i.iw)(d)?a=[d.name,d.show.name].join(" • "):(0,i.k6)(d)&&(a=g(r.ag.get("ad-formats.advertisement")))),n.createElement(c.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},19565:(e,t,a)=>{a.d(t,{u:()=>v});var n=a(67294),c=a(94184),r=a.n(c),o=a(28760),l=a(99450),i=a(51775),s=a(40771);const m="FvfvGU3jvHRskUU9v9_8",g="Q9AlbZn2EGzy3MTWXa8X",u="mxmxS0y8LiwSs5nueKPT",d="GXxVAveNFStY3pBI_NO4",h="eHcXC2s97InYP7rMNT0H",v=n.memo((function(e){const{children:t,message:a,title:c,linkTitle:v,linkTo:E,onClick:y,renderInline:f=!1}=e,{isXSOnly:p,isSMOnly:_}=(0,i.e)(),N=p||_;return n.createElement("section",{className:r()(m,{[g]:f})},t,n.createElement(o.Dy,{as:"h1",variant:N?"cello":"alto",className:d},c),n.createElement(o.Dy,{variant:N?"mesto":"ballad",className:h},a),v&&(E||y)&&n.createElement(l.D,{colorSet:"invertedLight",className:u,href:E,onClick:y,component:s.Z},v))}))},46145:(e,t,a)=>{a.d(t,{k:()=>N});var n=a(67294),c=a(9414),r=a(87722),o=a(28760),l=a(67892),i=a(94880),s=a(43315),m=a(9339);const g="wedRUk4eiBo9n9vqXLhU",u="HYVIJaYYiCTgSCHie70L",d="InXSbaoh8emJn09fWs3U",h="SPbe_Q1wtiZQCmo0QKUy",v="TRp4tgG7_cymGIXDevIP",E="tC1Y_nwyyly7cpIGqF5K",y="gY_xUHOSpAn6TPdU23t7",f="l93AfoV_qHnMQSQBB5GK",p="MTTf1Lotynwu3QKhr9uY",_="EkGb0ZzhswreSvpZoioY",N=n.memo((function(e){const{entity:t,isVirtual:a,shouldCombineRecs:N}=e,{venue:{name:C,location:{name:b}}}=t,D=t.artists[0],L=(0,m.ij)(t),S=new Date(t.date.isoString),k=a?c.F:r.n;return n.createElement(l.r,{to:`/concert/${t.id}`,className:g},D.imageUri?n.createElement(i.Z,null,n.createElement("div",{"data-testid":"image-container",className:_,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${D.imageUri})`}})):null,n.createElement("time",{className:u,dateTime:t.date.isoString},n.createElement(o.Dy,{as:"h5",variant:"minuetBold",className:d},`${(0,m.lJ)(S)} ${S.getDate()}`)),n.createElement("div",{className:h,dir:"auto"},n.createElement(o.Dy,{as:"h2",className:p,variant:"minuetBold"},(0,s.FO)(S)," • ",(0,m.b8)(S)),n.createElement(o.Dy,{as:"h2",variant:"cello",weight:"bold",className:v},L),n.createElement("div",{className:E},N?n.createElement(k,{className:y,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,n.createElement(o.Dy,{as:"h2",className:f,variant:"mesto","data-testid":"location-name"},a?C:`${C}, ${b}`))))}))},32668:(e,t,a)=>{a.d(t,{Z:()=>_});var n=a(67294),c=a(94184),r=a.n(c),o=a(73727),l=a(7438),i=a(10149),s=a(28760),m=a(66668),g=a(96206),u=a(87961),d=a(26991),h=a(29854);const v={locationContainer:"mVOFnq7zSPRV_LEgGpDs",locationName:"C27SqjLS1_s0rqa7OD7c",clearSuggestions:"hdK8yppl_sXZMSQmtZtV",hide:"r81fr26QaEERPXCPrPVm",changeLocation:"zwc2XkLWpR92crAJXL21",changeLocationDropdown:"eIoX7T2txqK2JqzJ7cli",changeLocationInputLabel:"Uxx05DSAKPDiUaYLo6Ew",changeLocationInput:"gTFbh_EVVEzUrviFjNKF",searchInputSearchIcon:"pyzKam6u5Chz83qdtWo6",changeLocationLabel:"xVCe2YqliS5UBuqjBTDK",icon:"aZ5OJAP9JwXgm4pJq7UH",changeLocationList:"H1g1Ro1PNCH7OgfgaHkN",changeLocationError:"SjJTvKcJyhdrzQP74cfK",changeLocationLink:"KsT9JzIhvL6lWg8uKQf5",changeLocationItem:"VrqtBC4aYTinEAL4iLO7",button:"f0SQFZDLh_a6sga5nqr0",locationLink:"HEKoKqT_pboxiT4uXfxf"},E="location_no_results",y="location_fetch_error",f={[E]:()=>g.ag.get("concert.error.no_locations_found_subtitle"),[y]:()=>g.ag.get("concert.error.general_error_title")},p=e=>{const t=n.createRef(),a=n.createRef(),[c,p]=(0,n.useState)(""),[_,N]=(0,n.useState)(-1),[C,b]=(0,n.useState)([]),[D,L]=(0,n.useState)(null),{placeholder:S,onSelectLocation:k,hideLocationSelector:w}=e,I=(0,h.D)((()=>{d.LH.fetchLocationQuery(u.b.getInstance(),c).then((e=>{const{body:{results:t=[]}={}}=e;b(t),t.length?L(null):L(E)}),(()=>{b([]),L(y)}))}))(250),T=e=>{p(e),N(-1),b([]),L(null),e&&e.length>1&&I(e)};let M=r()(v.clearSuggestions,v.hide);return(C&&C.length||D===E)&&(M=v.clearSuggestions),n.createElement("div",{className:v.changeLocation,"data-interaction-context":"location-selector"},n.createElement("div",{className:v.changeLocationDropdown,onKeyDown:e=>{const n=38,c=40,r=27,o=9,l=e.which;let i=_;switch([r,c,n,o].indexOf(l)>-1&&e.preventDefault(),l){default:return;case r:return void k(null);case n:i=Math.max(_-1,-1);break;case c:case o:i=Math.min(_+1,C.length-1);break;case 13:k(C[_])}if(i<0)t.current.focus();else{const e=a.current.childNodes[i];e&&e.focus()}N(i)},role:"searchbox",onBlur:e=>{e.relatedTarget||(T(""),w())}},n.createElement("div",{className:v.changeLocationForm},n.createElement("div",{className:v.changeLocationLabel},n.createElement(l.j,{className:v.icon,iconSize:16}),n.createElement("input",{className:v.changeLocationInput,type:"search",id:"change-location-input",placeholder:S,value:c,onChange:e=>T(e.target.value),ref:t,"aria-label":S,autoFocus:!0}),n.createElement("button",{className:M,"aria-label":g.ag.get("search.a11y.clear-input"),onClick:()=>T("")},n.createElement(i.k,{iconSize:16})))),n.createElement("ol",{className:v.changeLocationList,ref:a},D&&n.createElement(s.Dy,{as:"li",variant:"ballad",className:v.changeLocationError},n.createElement(m.l,{iconSize:16}),f[D]()),C&&C.length&&C.map(((e,t)=>n.createElement(s.Dy,{as:"li",variant:"ballad",weight:"book",key:t,className:v.changeLocationItem,tabIndex:t+1},n.createElement(o.rU,{to:"#",className:v.changeLocationLink,onClick:()=>k(e),role:"button"},e.location))))||null)))},_=e=>{const{handleLocationChange:t,locationStr:a}=e,[c,r]=(0,n.useState)(!1);return n.createElement("div",{className:v.locationContainer},n.createElement(s.Dy,{as:"h1",variant:"alto"},g.ag.get("concerts_shows_in")),n.createElement("span",null,c&&n.createElement(p,{placeholder:g.ag.get("concerts.input.search_placeholder"),onSelectLocation:e=>{t(e),r(!1)},hideLocationSelector:()=>r(!1)}),!c&&n.createElement(s.Dy,{as:"h2",variant:"alto",className:v.locationName,dir:"auto",onClick:r,role:"button"},a)))}},1025:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var n=a(67294),c=a(28216),r=a(73012),o=a(28760),l=a(87577),i=a(96206),s=a(6581),m=a(70369),g=a(19565),u=a(42273),d=a(59482),h=a(72907),v=a(1663),E=a(19480),y=a(49207),f=a(29255),p=a(51574),_=a(42922),N=a(31595),C=a(46145),b=a(21770),D=a(94880),L=a(9339);const S={ConcertCard:"F7MwywVorrNKOgt7CEGy",date:"r4aK7GGCTY1vrPuSoGy6",dateMonth:"RX2kdQC6Fgc9h04mEgXx",metadata:"JpGXFGtOfmKH5mKCOMQw",title:"pN88b8jrYtBCrYGu35Al",locationData:"amTa2euxioUd0vU2jMf5",icon:"fIWvfaTkx3r3we4DA4NJ",location:"kDBnDrmS9eTQb2_g4Vku",fullDate:"T4LL7qOCu_01Szrx8Vnm",image:"Ko142eYEnV1xtSP5Vjk3"},k=n.memo((function(e){const{entity:t,onClick:a,openingDate:c,closingDate:r,concertsCount:l}=e,s=t.artists[0],m=(0,L.ij)(t);return n.createElement(b.oM,{onClick:a,className:S.ConcertCard,component:"div"},s.imageUri?n.createElement(D.Z,null,n.createElement("div",{"data-testid":"image-container",className:S.image,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${s.imageUri})`}})):null,n.createElement("time",{className:S.date,dateTime:t.date.isoString},n.createElement(o.Dy,{as:"h5",variant:"minuetBold",className:S.dateMonth},c.getMonth()===r.getMonth()?`${(0,L.lJ)(c)} ${c.getDate()}-${r.getDate()}`:`${(0,L.lJ)(c)} ${c.getDate()} - ${(0,L.lJ)(r)} ${r.getDate()}`)),n.createElement("div",{className:S.metadata,dir:"auto"},n.createElement(o.Dy,{as:"h2",variant:"cello",weight:"bold",className:S.title},m),n.createElement("div",{className:S.locationData},n.createElement(o.Dy,{as:"h2",className:S.concertsCount,variant:"mesto","data-testid":"concerts-count"},`${i.ag.get("concerts.count",l)}`))))}));var w=a(32668),I=a(10586),T=a(10149),M=a(92877),U=a(85105),K=a(67892);const G={concertsModal:"_HSbKteV9dfeHwGxcNg_",concertsContainer:"aWBUVnORYXxsyYkhLwA9",closeIconContainer:"my32elFymTSFRhPKDaLo",artistContainer:"YAGZg56IvTunyhaur40H",artistImage:"vmevmDz8WM9VvMmgoaWe",artistInfoContainer:"ac36K8GtTBXhfFPRfGTo",artistName:"hz2yJw4parzL0WK0rMng",row:"p_yAxEy29Xzm0fTvIg8T",date:"wC2qUh2SJBX1UEe9aQtV",dateMonth:"sUzcAnZ86exG3LZrvpf2",dateDay:"Ou1Z3dcAWteEuTiYJlkB",eventInfo:"EtOrJwt_4yhkrHWbxXy4",concertTitle:"M680KWddHfIaTZCTyULM",concertDate:"NjDfI7zPhvTXV8SjKcqq",concertVenue:"OEdqJZzUG2K9iXIn9RtC"},P=e=>{const{concert:t}=e,{isoString:a}=t.date,c=new Date(Date.parse(a)),r="ONLINE"===t.category,l=t.venue.name,i=t.venue.location.name,s=r?l:`${l}, ${i}`;return n.createElement(K.r,{key:t.id,to:`/concert/${t.id}`,className:G.row},n.createElement("time",{className:G.date,dateTime:a},n.createElement(o.Dy,{as:"h5",variant:"minuetBold",className:G.dateMonth},(0,L.lJ)(c)),n.createElement(o.Dy,{as:"h1",variant:"cello",className:G.dateDay},c.getDate())),n.createElement("div",{className:G.eventInfo},n.createElement(o.Dy,{as:"div",variant:"violaBold",className:G.concertTitle,"data-testid":"event-title"},(0,L.Yl)(t)),n.createElement(o.Dy,{as:"div",variant:"viola",className:G.concertDate},`${(0,L.cd)(c)} • ${(0,L.b8)(c)}`),n.createElement(o.Dy,{as:"div",variant:"viola",className:G.concertVenue,"data-testid":"event-venue"},s)))},x=n.memo((function({concerts:e,onClose:t,open:a,location:c}){if(0===e.length)return null;const r=e[0].artists[0];return n.createElement(U.Z,{contentLabel:i.ag.get("live_events.label"),isOpen:a,className:G.concertsModal,onRequestClose:t},n.createElement("section",{className:G.concertsContainer},n.createElement("div",{className:G.closeIconContainer},n.createElement(O,{"aria-label":i.ag.get("close"),iconOnly:T.k,buttonSize:"sm",onClick:t})),n.createElement("div",{className:G.artistContainer},n.createElement(M.Ee,{height:"48",width:"48",className:G.artistImage,src:r.imageUri}),n.createElement("div",{className:G.artistInfoContainer},n.createElement(o.Dy,{as:"h3",variant:"cello",className:G.artistName,"data-testid":"event-venue"},r.name),n.createElement(o.Dy,{as:"h3",variant:"mesto",className:G.concertsCount,"data-testid":"event-venue"},`${i.ag.get("concerts.count_near_location",e.length,c)}`))),e.map((e=>n.createElement(P,{key:e.uri,concert:e})))))}));var O=(0,I.ZP)(b.oM).withConfig({displayName:"GroupedConcerts___StyledButtonTertiary",componentId:"sc-1c9dnr3-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const F="wIVpEJ_zYWGyFUrvX08g",R="hSZRbryPAMeTRaXuUSlM",$="NrsEgNsURvcsSkUnT8yN",J={get Online(){return i.ag.get("concerts_upcoming_virtual_events")},get Recommended(){return i.ag.get("concerts_recommended_for_you")},get Popular(){return i.ag.get("concerts_popular_near_you")},get Playlists(){return i.ag.get("playlists")}},V=r.jN0,X=e=>{const{collection:t,concertMetadata:a,handleLocationChange:c,shouldCombineRecs:r,setShowGroupedConcerts:l,setGroupedConcerts:s}=e,m=t?.items||[],u=t?.isFetching,d=a.userLocation.name||i.ag.get("concerts.default_location"),h=e=>{if(!e.concerts||!e.concerts.length)return null;const t=e.concerts[0];return e.concerts.length>1?n.createElement(k,{key:t.uri,entity:t,openingDate:new Date(e.openingDate),closingDate:new Date(e.closingDate),concertsCount:e.concerts.length,onClick:()=>{s(e.concerts),l(!0)}}):n.createElement(C.k,{key:t.uri,entity:t,isVirtual:r?"ONLINE"===t.category:"online"===e.source,shouldCombineRecs:r})};if(u)return n.createElement(v.h,{hasError:!1,errorMessage:i.ag.get("error.request-browse-concerts-failure")});return n.createElement("div",{className:$},n.createElement("div",{className:F,"data-testid":"location-selector"},n.createElement(w.Z,{handleLocationChange:c,locationStr:d})),(()=>{if(!m.length)return n.createElement(g.u,{title:i.ag.get("concerts.error.no_concerts_found_title"),message:i.ag.get("concerts.error.no_concerts_found_message",d),renderInline:!0});const e=m.reduce(((e,t)=>("recommendation"===t.source?e.Recommended.push(t):"popular"===t.source?e.Popular.push(t):"online"===t.source&&e.Online.push(t),e)),{Online:[],Recommended:[],Popular:[]});return Object.keys(e).map(((t,a)=>{const c=e[t];return 0===c.length?null:n.createElement("div",{key:t,className:F},n.createElement(_.ZP,{value:"headered-grid",index:a},n.createElement(E.P,{total:c.length,title:J[t],showAll:!0},c.map(h))))}))})(),n.createElement(o.Dy,{variant:"finale",semanticColor:"textSubdued"},i.ag.get("live_events.disclaimer")))},z=n.memo((function(){const e=(0,c.I0)(),t=(0,l.W6)(y.AW),{isAnonymous:a}=(0,c.v9)(f.Gg),r=(0,c.v9)((e=>e.concerts.collection)),o=(0,c.v9)((e=>e.concerts)),g=o.userLocation.name||i.ag.get("concerts.default_location"),v=o.userLocation.geonameId;(0,n.useEffect)((()=>{e((0,s.AJ)(v??null,a))}),[e,a,v]);const E=(0,N.Y)(V),[_,C]=(0,n.useState)(!1),[b,D]=(0,n.useState)([]);return n.createElement("section",{className:R},n.createElement(m.$,null,`${i.ag.get("concerts_shows_in")} ${g}`),n.createElement(u.gF,{size:u.fR.SMALL,backgroundColor:V},n.createElement(u.sP,null,n.createElement(u.xd,null,i.ag.get("live_events.label"))),n.createElement(d.W,null,n.createElement(h.i,{text:i.ag.get("live_events.label")}))),n.createElement(p.I,{backgroundColor:E}),n.createElement(X,{collection:r,concertMetadata:o,handleLocationChange:t=>{t&&t.geonameId&&(e((0,s.kz)(t)),e((0,s.AJ)(t.geonameId,a)))},shouldCombineRecs:t,setShowGroupedConcerts:C,setGroupedConcerts:D}),n.createElement(x,{location:g,concerts:b,onClose:()=>C(!1),open:_}))})),Z=e=>n.createElement(n.Suspense,{fallback:null},n.createElement(z,e))},9339:(e,t,a)=>{a.d(t,{Ms:()=>c,NL:()=>l,O1:()=>s,Yl:()=>u,b8:()=>r,cd:()=>i,ij:()=>d,lJ:()=>o});var n=a(96206);const c=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),r=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),o=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),l=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),i=e=>n.ag.formatDate(e,{weekday:"short"}),s=e=>e<new Date,m={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},g=(e,t)=>{const a=m[t],n=(e=>{try{return!e.title||!e.festival&&e.artists?.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},u=e=>g(e,"row"),d=e=>g(e,"entity")}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map