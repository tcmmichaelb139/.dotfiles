"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3727],{22578:(e,t,a)=>{a.d(t,{$:()=>d});var n=a(67294),i=a(64593),r=a(96206),l=a(69691),s=a(8341),c=a(89952),o=a(51615),u=a(24183);function m(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const d=({children:e,usePlayingItem:t})=>{let a=m(e);(e=>{const{mainLandmarkRef:t}=(0,u.Oh)(),a=(0,o.k6)(),i=a.location?.state?.preventMoveFocus,r=(0,n.useRef)(a.length<2);r.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;!i&&!r.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,i])})(e);const{isPlaying:d}=(0,l.IK)(),E=(0,s.Y)((e=>e?.item));return E&&(d||t)&&((0,c.G_)(E)?a=[E.name,E.artists.map((e=>e.name)).join(r.ag.getSeparator())].join(" • "):(0,c.iw)(E)?a=[E.name,E.show.name].join(" • "):(0,c.k6)(E)&&(a=m(r.ag.get("ad-formats.advertisement")))),n.createElement(i.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},1463:(e,t,a)=>{a.d(t,{n:()=>T});var n=a(67294),i=a(94184),r=a.n(i),l=a(51615),s=a(28760),c=a(62312),o=a(41374),u=a(96206),m=a(32648),d=a(64005),E=a(85951);var g=a(32626),p=a(43031),y=a(30005),f=a(21691);const h="BkpKedcdaMGbvgXMlmcg",b="muYk5XIwKmqR9iNibk_f",x="queue-tabBar-header",v="m20ShRDiGGDpJ5LSABTi",k="Hvv0e7WKQ4kyftgSQJhg",C="yxf_6IsQEmHjijEBUMTP",N="oaNVBli46GtVjaQKB15g",I="JdlKTdpMquftpMwwegZo",P="Nts_ArOCGeROTDZND3M6",w="FvDsfgxSvLvL3q8d7nQv",U=({items:e,activeItemId:t})=>n.createElement(y.v,null,e.map((e=>e.disabled?n.createElement(f.s,{key:e.uri,disabled:!0,role:"menuitemradio",className:C,onClick:e.handleClick},e.title):n.createElement(f.s,{key:e.uri,role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===t,className:C,activeClassName:N,onClick:e.handleClick},e.title)))),T=n.memo((function({isCentered:e,links:t,landmarkLabel:a,className:i}){const y=(0,n.useRef)(null),[f,C]=(0,n.useState)([]),[T,A]=(0,n.useState)(0),[S,O]=(0,n.useState)([]),R=function(){const[e,t]=(0,n.useState)(window.innerWidth),{scrollNodeChildRef:a}=(0,n.useContext)(m.VX),i=(0,d.y)((e=>{e?.width&&t(e.width)}),250);return(0,E.y)({refOrElement:a,observeOnly:"width",onResize:i}),e}()??1/0,{pathname:D}=(0,l.TH)(),L=t.find((e=>e.to===D));return(0,n.useEffect)((()=>{y.current&&A(y.current.clientWidth)}),[R]),(0,n.useEffect)((()=>{if(!y.current)return;const e=Array.from(y.current.children).map((e=>e.clientWidth));C(e)}),[t]),(0,n.useEffect)((()=>{if(!y.current)return;if(f.slice(0,-1).reduce(((e,t)=>e+t),0)<=T)return void O([]);const e=f.reduce(((e,t)=>e>t?e:t),0),t=[];let a=e;f.forEach(((e,n)=>{T>=a+e?a+=e:t.push(n)})),O(t)}),[T,f]),n.createElement("nav",{className:r()(i,h),"aria-label":a},n.createElement("ul",{className:e?b:P,ref:y},t.filter(((e,t)=>!S.includes(t))).map((e=>(e?.render??(e=>e))(n.createElement("li",{key:e.to,className:x},e.disabled?n.createElement("div",{className:I},n.createElement(s.Dy,{variant:"mestoBold"},e.title)):n.createElement(p.O,{exact:!0,className:I,activeClassName:N,to:e.to,onClick:e.handleClick},n.createElement(s.Dy,{variant:"mestoBold"},e.title)))))),S.length||0===f.length?n.createElement("li",{className:x},n.createElement(g.xV,{renderInline:!0,menu:n.createElement(U,{items:t.filter(((e,t)=>S.includes(t))),activeItemId:L?.itemId})},((e,t,a)=>n.createElement("button",{className:r()(v,{[k]:L}),type:"button",onClick:t,ref:a},n.createElement(s.Dy,{variant:"mestoBold"},L?L.title:u.ag.get("more")),e?n.createElement(c.U,{iconSize:16,className:w}):n.createElement(o.i,{iconSize:16,className:w}))))):null))}))},41239:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_e});var n=a(67294),i=a(73305),r=a(72125),l=a(35796),s=a(9832),c=a(68960),o=a(28760),u=a(96206),m=a(80053);const d="gTvMl6pwfRD9PobMSB5x",E="hNAQG0TAe2WFYyf_iZEB",g="Zhzrb2k9nQRActS2lp4U",p=()=>n.createElement("div",{className:d},n.createElement(m.Y,{iconSize:64}),n.createElement(o.Dy,{as:"h1",variant:"alto",semanticColor:"textBase",className:E},u.ag.get("history.empty-title")),n.createElement("p",null,u.ag.get("history.empty-description")));var y=a(69518),f=a.n(y),h=a(28248),b=a(47991),x=a(42922),v=a(26991),k=a(87961);const C=[];function N(e,t=!0){const[a,i]=(0,n.useState)({});return(0,n.useEffect)((()=>{if(!t)return;const n=Array.from(new Set(e)),r=n.filter((e=>f().isTrack(e)&&!a[e])),l=n.filter((e=>f().isEpisode(e)&&!a[e])),s=r.length?v.fQ.getTracks(k.b.getInstance(),r.map((e=>f().from(e).getBase62Id()))).then((e=>e.body.tracks||C)):Promise.resolve(C),c=l.map((e=>v.UY.getEpisodeGraphQL(k.b.getInstance(),f().from(e).getBase62Id()).then((e=>e?.body||{})).catch((t=>(console.error(t),{uri:e})))));Promise.all([s,...c]).then((([e,...t])=>{const a={},n={};e.forEach((e=>{a[e?.linked_from?.uri||e.uri]=e})),t.forEach((e=>{n[e.uri]=e})),(e.length>0||t.length>0)&&i((e=>({...e,...a,...n})))}))}),[e,a,t]),e.map((e=>a[e]))}var I=a(42781),P=a(49961),w=a(25988),U=a(26921),T=a(86213),A=a(21509),S=a(83384),O=a(82760),R=a(18261),D=a(85576),L=a(87257),q=a(57978),Q=a(26010),_=a(84242),M=a(84788);const F=n.memo((function({uri:e,name:t,duration_ms:a,index:i,imgUrl:r,artists:l,album:s,isExplicit:c,isMOGEFRestricted:o,type:m}){const{useCurrentAvailability:d}=(0,n.useContext)(Q.I),[E,g]=d(e),{isActive:p,isPlaying:y,triggerPlay:h,togglePlay:b}=(0,_.n)({uri:e},{featureIdentifier:"history"}),{badges:v,hasBadges:k}=(0,M.r)({offlineAvailability:g,isExplicit:c,isMOGEFRestricted:o}),C=E,N=l?.map((e=>e.name)).join(u.ag.getSeparator())||"";let I;return f().isEpisode(e)?I=n.createElement(w.k,{uri:e,contextUri:e,showUri:l?.[0]?.uri}):f().isLocalTrack(e)?I=n.createElement(U.N,{uri:e,contextUri:e}):f().isTrack(e)&&(I=n.createElement(T.$,{uri:e,contextUri:e,albumUri:s?.uri,artists:l})),n.createElement(x.ZP,{value:"row",index:i},n.createElement(R._,{menu:I},n.createElement(O.c,{uri:e,contextUri:e,index:i,ariaRowIndex:i,onTriggerPlay:()=>{h()},isActive:p,isPlayable:C,ageRestricted:o,dragMetadata:{name:t,createdBy:N}},n.createElement(A.vZ,{ariaColIndex:0},n.createElement(A.VG,{uri:e,src:r,isPlaying:y,isActive:p,isLocked:!1,onClick:()=>{b()},isEpisode:f().isEpisode(e),playAriaLabel:u.ag.get("tracklist.a11y.play",t,N)}),n.createElement(A.vm,null,n.createElement(A.Wh,{titleText:t},t),k&&n.createElement(A.g3,null,v.download&&n.createElement(D.G,{size:16}),v.explicit&&n.createElement(L.N,null),v.nineteen&&n.createElement(q.X,{className:S.Z.nineteen,size:16})),n.createElement(A.K9,null,f().isTrack(e)?n.createElement(A.T6,{artists:l}):l[0].name))),n.createElement(A.UA,{ariaColIndex:2},n.createElement(A.BM,{nonInteractive:f().isLocalTrack(e),uri:s.uri,name:s.name,creatorUri:l?.[0]?.uri},s.name)),n.createElement(A.mU,{ariaColIndex:1},!f().isLocalTrack(e)&&n.createElement(A.qS,{uri:e,type:m}),n.createElement(A.A$,{duration:a}),n.createElement(A.Zv,{menu:I,label:u.ag.get("more.label.track",t,N)})))))}),((e,t)=>e.uri===t.uri)),B=n.memo((function({items:e}){const t=N(e.map((e=>e.uri))),a=(0,n.useMemo)((()=>t.map(((t,a)=>e[a].isLocal?e[a]:t))),[t,e]),i=(0,n.useCallback)(((e,t)=>{if((a=e).type===I.p.TRACK&&f().isTrack(a.uri)){const a=(0,P.X)(e.album?.images,{desiredSize:40});return n.createElement(F,{key:t+e.uri,index:t,uri:(0,b.$)(e),name:e.name,duration_ms:e.duration_ms,imgUrl:a?.url||"",album:e.album,artists:e.artists,isExplicit:e.explicit,isMOGEFRestricted:(e.tags||[]).includes("MOGEF-19+"),type:I.p.TRACK})}var a;if((e=>e.type===I.p.EPISODE)(e)){const a=(0,P.X)(e.show?.images,{desiredSize:40});return n.createElement(F,{key:t+e.uri,index:t,uri:(0,b.$)(e),name:e.name,duration_ms:e.duration_ms,imgUrl:a?.url||"",album:{name:e.show.name,uri:e.show.uri},artists:[{name:e.show.publisher,uri:""}],isExplicit:e.explicit,isMOGEFRestricted:!1,type:I.p.EPISODE})}return(e=>e.type===I.p.TRACK&&f().isLocalTrack(e.uri))(e)?n.createElement(F,{key:t+e.uri,index:t,uri:e.uri,name:e.name,duration_ms:e.duration,imgUrl:e.imageUrl||"",album:{name:e.album?.name||"",uri:""},artists:[{name:e.artist?.name||"",uri:""}],isExplicit:e.isExplicit,isMOGEFRestricted:!1,type:I.p.LOCAL_FILES}):n.createElement(h.hU,{height:`${h.dN}px`})}),[]),r=(0,n.useMemo)((()=>[h.QD.TITLE,h.QD.ALBUM_OR_PODCAST,h.QD.DURATION]),[]),l=(0,n.useCallback)((e=>e.uri),[]);return n.createElement(n.Fragment,null,n.createElement(x.ZP,{value:"play-history-tracklist"},n.createElement(h.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:r,renderRow:i,resolveUri:l,tracks:a,nrTracks:a.length,rowPlaceholder:h.hU,limit:50})))})),G="dt3fysZYdQ6hhWfpmjAu",$="n6LsTkKvpO88xeRyRTdw",W=()=>{const e=(0,s.U5)();return e&&e.items.length>0?n.createElement("div",{className:G},n.createElement(o.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",className:$},u.ag.get("view.recently-played")),n.createElement(B,{items:e.items})):n.createElement(p,null)};var Z=a(94184),K=a.n(Z),z=a(56081),Y=a(70369),H=a(67892),X=a(23716),j=a(34891),V=a(86081);var J=a(14472),ee=a(54444),te=a(24209);const ae=({onClick:e})=>n.createElement(te.P,{onClick:e,buttonSize:"sm"},u.ag.get("queue.clear-queue"));var ne=a(73012),ie=a(21770),re=a(99450),le=(a(29298),a(85105));const se="i9rTNwKyT_NMDghd8q65",ce="DXBMXJD8Zoj4V8MxIVTB",oe="UEtqSfWDubkNdPIaEkfA",ue="I_Rc74Je7W4sk6KAVR05",me=n.memo((function({onClose:e,onConfirm:t,isOpen:a,itemCount:i}){const r=(0,n.useCallback)((a=>{t(),e(a)}),[t,e]),l=u.ag.get("queue.confirm-title",i);return n.createElement(le.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:l,isOpen:a},n.createElement("div",{className:se},n.createElement(o.Dy,{as:"h2",variant:"cello",className:ce},l),n.createElement(o.Dy,{as:"p",variant:"mesto",className:oe,paddingBottom:ne.g4V},u.ag.get("queue.confirm-message")),n.createElement("div",{className:K()("encore-light-theme",ue)},n.createElement(ie.oM,{onClick:e},u.ag.get("queue.cancel-button")),n.createElement(re.D,{onClick:r},u.ag.get("queue.confirm-button")))))}));var de=a(73727),Ee=a(17470);const ge=()=>n.createElement("div",{className:d},n.createElement(Ee.S,{iconSize:64}),n.createElement(o.Dy,{as:"h1",variant:"alto",semanticColor:"textBase",className:E},u.ag.get("queue.empty-title")),n.createElement("p",null,u.ag.get("queue.empty-description")),n.createElement(de.OL,{to:"/search",className:g},n.createElement(re.D,{colorSet:"invertedLight"},u.ag.get("queue.fine-something"))));let pe;!function(e){e[e.NowPlaying=0]="NowPlaying",e[e.NextInQueue=1]="NextInQueue",e[e.NextUp=2]="NextUp"}(pe||(pe={}));var ye=a(56802),fe=a(89952);const he=(e,t)=>{const a=N(e.slice(0,50).map((e=>e.uri)),t);return t?e.reduce(((e,t,n)=>(a[n]&&e.push(((e,t)=>(0,fe.G_)(e)&&(e=>"track"===e.type)(t)?{...e,name:t.name,album:{...e.album,name:t.album.name,images:t.album.images,uri:t.album.uri},artists:t.artists.map((e=>({name:e.name,uri:e.uri,type:I.p.ARTIST}))),duration:{milliseconds:t.duration_ms},isExplicit:t.explicit,is19PlusOnly:(t.tags||[]).includes("MOGEF-19+")}:(0,fe.iw)(e)&&(e=>"episode"===e.type)(t)?{...e,name:t.name,show:{...e.show,name:t.show.name,images:t.show.images,uri:t.show.uri},duration:{milliseconds:t.duration_ms}}:e)(t,a[n])),e)),[]):e};var be=a(47307),xe=a(1848),ve=a(22345),ke=a(99191),Ce=a(69691);let Ne;!function(e){e.TRACK="track",e.EPISODE="episode",e.CHAPTER="chapter",e.LOCAL="local"}(Ne||(Ne={}));const Ie=n.memo((function({uri:e,uid:t,contextUri:a,name:i,duration_ms:r,artists:l,index:s,rowNumberOffset:c,imgUrl:o,isExplicit:m,isPlayable:d,isMOGEFRestricted:E,album:g,type:p,section:y,usePlayContextItem:h,isAutoPlay:b=!1,isEnhanced:v,queueSpec:k}){const C=(0,ee.$P)(),N=(0,X.g)(),{useCurrentAvailability:I}=(0,n.useContext)(Q.I),[P,_]=I(e),{triggerPlay:F,togglePlay:B}=h({uid:t,uri:e,index:s}),{spec:G}=(0,ee.fU)(xe.createDesktopTrackListRowEventFactory,{data:{position:s,reason:"",uri:e}}),{isActive:$,isPlaying:W}=(0,Ce.$o)(e),Z=(0,n.useCallback)((()=>{t?F({},(()=>N.skipToNext({uri:e,uid:t}))):F()}),[N,F,e,t]),K=(0,n.useCallback)((()=>{t?B({},(()=>N.skipToNext({uri:e,uid:t}))):B()}),[N,B,e,t]),z=d&&(f().isLocalTrack(e)||P),Y=p===Ne.TRACK,H=p===Ne.EPISODE,j=p===Ne.CHAPTER,V=H&&"video"===g?.mediaType,J=p===Ne.LOCAL,te=l?.map((e=>e.name)).join(u.ag.getSeparator())||"",{badges:ae,hasBadges:ne}=(0,M.r)({offlineAvailability:_,isExplicit:m,isMOGEFRestricted:E,isEnhanced:v});let ie;ie=H?n.createElement(w.k,{uri:e,uid:b?void 0:t,showUri:g.uri,contextUri:a}):j?n.createElement(ve.r,{uri:e,uid:b?void 0:t,showUri:g.uri,contextUri:a}):J?n.createElement(U.N,{uri:e,uid:b?void 0:t,contextUri:a}):n.createElement(T.$,{uri:e,uid:b?void 0:t,albumUri:g.uri,artists:l,contextUri:a});const re=(0,n.useCallback)(((a,n)=>{const{meta:i,uris:r}=a,l=r.map((e=>({uri:e,uid:null})));let s;s=n===O.W.Before?{before:{uri:e,uid:t??null}}:{after:{uri:e,uid:t??null}},i.section===pe.NowPlaying?N.addToQueue(l):i.origin===pe.NowPlaying?N.insertIntoQueue(l,s):N.reorderQueue(l,s)}),[N,t,e]),le=(0,n.useCallback)(((a,n)=>{const{uids:i}=a,r=i.map((e=>({uri:"",uid:e})));let l;l=n===O.W.Before?{before:{uri:e,uid:t??null}}:{after:{uri:e,uid:t??null}},N.reorderQueue(r,l)}),[N,t,e]),se=b?[]:[ke.aN[f().Type.TRACK],ke.aN[f().Type.EPISODE]];return n.createElement(x.ZP,{value:"row",index:s},n.createElement(R._,{menu:ie},n.createElement(O.c,{uri:e,contextUri:a,index:s,onTriggerPlay:Z,isActive:y===pe.NowPlaying&&$,ariaRowIndex:s,isPlayable:z,ageRestricted:E,spec:G,dragMetadata:{name:i,createdBy:te,sectionId:y},onInsert:(t,a,n,i,r)=>{re({uris:t,dropIndex:a,meta:r},n),k&&C.logInteraction(k.dragAddItemToQueue({itemToAddToQueue:e}))},onMove:(e,t,a,n)=>{le({uids:e,dropIndex:t,meta:n},a),k&&C.logInteraction(k.dragSort())},allowedDropTypes:se},n.createElement(A.Dd,{ariaColIndex:0},n.createElement(A.Du,{uri:e,playAriaLabel:u.ag.get("tracklist.a11y.play",i,te),isPlaying:y===pe.NowPlaying&&W,isActive:y===pe.NowPlaying&&$,spec:G,onClick:()=>{K()}},n.createElement(A.km,null,s+c+1))),n.createElement(A.vZ,{ariaColIndex:1},n.createElement(A.lD,{src:o,isVideo:V,isEpisode:H||j}),n.createElement(A.vm,null,n.createElement(A.Wh,{titleText:i},i),ne&&n.createElement(A.g3,null,ae.enhanced&&n.createElement(be._,{iconSize:16,className:S.Z.enhanced,title:u.ag.get("web-player.enhance.button_text_enhanced"),"aria-label":u.ag.get("web-player.enhance.button_text_enhanced")}),ae.download&&n.createElement(D.G,{size:16}),ae.explicit&&n.createElement(L.N,null),ae.nineteen&&n.createElement(q.X,{className:S.Z.nineteen,size:16})),n.createElement(A.K9,null,Y&&n.createElement(A.T6,{artists:l,spec:G}),(H||J)&&!V&&te))),n.createElement(A.UA,{ariaColIndex:2},n.createElement(A.BM,{nonInteractive:J,uri:g.uri,name:g.name,creatorUri:l?.[0]?.uri,spec:G},g.name)),n.createElement(A.mU,{ariaColIndex:3},!J&&n.createElement(A.qS,{uri:e,type:p}),n.createElement(A.A$,{duration:r}),n.createElement(A.Zv,{menu:ie,label:u.ag.get("more.label.track",i,te),spec:G})))))}),((e,t)=>e.uri===t.uri&&e.index===t.index)),Pe=n.memo((function({tracks:e,ariaLabel:t,contextUri:a,rowNumberOffset:i=0,section:r,usePlayContextItem:l}){const s=(0,ye.o)(),c=(0,X.g)(),o=he(e,!c.getCapabilities().hasDecoratedQueue),u=(0,n.useCallback)(((e,t)=>{s({intent:"remove-from-queue",type:"click"}),c.removeFromQueue(e.map((e=>({uid:e.id,uri:e.uri})))).then(t)}),[c,s]),m=(0,n.useCallback)(((e,t)=>{if((0,fe.iw)(e)){const s=(0,P.X)(e.show?.images,{desiredSize:40});return n.createElement(Ie,{key:`${t}${i}${e.uid}`,index:t,rowNumberOffset:i,imgUrl:s?.url||"",uri:(0,b.$)(e),uid:e.uid??e.uri,contextUri:a,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.show.name,uri:e.show.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:Ne.EPISODE,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider})}if((0,fe.G7)(e)){const s=(0,P.X)(e.images||void 0,{desiredSize:40});return n.createElement(Ie,{key:`${t}${i}${e.uid}`,index:t,rowNumberOffset:i,imgUrl:s?.url||"",uri:(0,b.$)(e),uid:e.uid??e.uri,contextUri:a,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.book.name,uri:e.book.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:Ne.CHAPTER,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider})}if((0,fe.G_)(e)||(0,fe.RB)(e)){const s=(0,P.X)(e?.album?.images,{desiredSize:40}),c=e.type===I.p.TRACK?e:null;return n.createElement(Ie,{key:`${t}${i}${e.uid}`,index:t,rowNumberOffset:i,imgUrl:s?.url||"",uri:(0,b.$)(e),uid:e.uid??e.uri,contextUri:a,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:c?.isExplicit??!1,isPlayable:!0,isMOGEFRestricted:c?.is19PlusOnly??!1,type:c?.isLocal?Ne.LOCAL:Ne.TRACK,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider,isEnhanced:"enhanced_recommendation"===e.metadata?.provider})}return n.createElement(h.Lb,{height:`${h.dN}px`})}),[i,a,r,l]),d=(0,n.useMemo)((()=>[h.QD.INDEX,h.QD.TITLE,h.QD.ALBUM,h.QD.DURATION]),[]),E=(0,n.useCallback)((e=>e.uri),[]),g=(0,n.useCallback)((e=>e.uid??e.uri),[]);return o&&n.createElement(h.Pv,{ariaLabel:t,tracks:o,nrTracks:o.length,onRemove:u,renderRow:m,resolveUri:E,resolveUid:g,columns:d})})),we="rHpv7osDRvs3SUPMpQ_g",Ue="DG9CsoFIptJhAneKoo_F",Te="jf2HafzDEI9jn7Yo05eM",Ae="H3Puuvc2nV0GoZRrfpRS",Se="HckHyQocDDePWQL2baOY",Oe=()=>{const{uri:e,description:t}=(0,J.$)(),{spec:a,logger:r,UBIFragment:l}=(0,ee.fU)(z.createDesktopNowPlayingQueueEventFactory,{data:{identifier:i.W.NOWPLAYING_QUEUE,uri:e??""}}),s=(0,n.useMemo)((()=>a.nowPlayingSectionFactory()),[a]),c=(0,n.useMemo)((()=>a.nextInQueueSectionFactory()),[a]),m=(0,n.useMemo)((()=>a.nextFromSectionFactory()),[a]),d=(0,X.g)(),{current:E,nextUp:g,queued:p}=function(){const e=(0,X.g)(),[t,a]=(0,n.useState)(e.getQueue());return(0,V.G)(j.rg.QUEUE_UPDATE,(e=>a(e.data))),t}(),[y,f]=(0,n.useState)(!1),h=(0,n.useCallback)((()=>{f(!1)}),[f]),b=(0,n.useCallback)((()=>{d.clearQueue(),f(!1)}),[d]),v=(0,n.useCallback)((async()=>{let e;const t=c.clearQueueButtonFactory();p.length>0&&(e=t.hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:p.length}),r.logInteraction(e)),f(!0)}),[r,c,p]),{usePlayContextItem:k}=(0,_.n)({uri:e??""},{featureIdentifier:"queue"}),C="autoplay"===E?.provider,N=g.filter((e=>C?e:"autoplay"!==e.provider)),I=!!p?.length,P=!!N?.length,w=!1===(E||I||P),U=(0,n.useCallback)((async()=>{if(!P)return;const t=a.nextFromSectionFactory().queueContextLinkFactory().hitUiNavigate({destination:e??""});r.logInteraction(t)}),[P,r,a,e]);return w?n.createElement(ge,null):n.createElement("section",{className:we},n.createElement(Y.$,null,u.ag.get("queue.page-title")),n.createElement(o.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",className:Ue},u.ag.get("playback-control.queue")),E&&e&&n.createElement(n.Fragment,null,n.createElement(o.Dy,{as:"h2",variant:"balladBold",semanticColor:"textSubdued"},u.ag.get("queue.now-playing")),n.createElement(l,{spec:s},n.createElement(x.ZP,{value:"now-playing"},n.createElement(Pe,{ariaLabel:u.ag.get("queue.now-playing"),tracks:[E],contextUri:e,section:pe.NowPlaying,usePlayContextItem:k})))),I&&e&&n.createElement(n.Fragment,null,n.createElement("div",{className:K()(Se,Te)},n.createElement(o.Dy,{as:"h2",variant:"balladBold",semanticColor:"textSubdued"},u.ag.get("queue.next-in-queue")),I&&n.createElement(ae,{onClick:v})),n.createElement(l,{spec:c},n.createElement(x.ZP,{value:"next-in-queue"},n.createElement(Pe,{ariaLabel:u.ag.get("queue.next-in-queue"),tracks:p,rowNumberOffset:1,contextUri:"spotify:app:queue:NextInQueue",section:pe.NextInQueue,usePlayContextItem:k})))),P&&e&&n.createElement(n.Fragment,null,n.createElement(o.Dy,{as:"h2",variant:"balladBold",semanticColor:"textSubdued",className:K()(Te,"standalone-ellipsis-one-line")},t&&!C?n.createElement(n.Fragment,null,u.ag.get("queue.next-from")," ",n.createElement(H.r,{className:Ae,to:e,onClick:U},t)):u.ag.get("queue.next-up")),n.createElement(l,{spec:m},n.createElement(x.ZP,{value:"next-up"},n.createElement(Pe,{ariaLabel:u.ag.get("queue.next-up"),tracks:N,rowNumberOffset:1+(p?.length||0),contextUri:"spotify:app:queue:NextUp",section:pe.NextUp,usePlayContextItem:k})))),n.createElement(me,{itemCount:p?.length||0,isOpen:y,onClose:h,onConfirm:b}))};var Re=a(1463),De=a(28638),Le=a(26089);const qe="vhW0kRN8JJD5UwW4TdXi",Qe=()=>{const e=(0,c.Y)(),t=(0,n.useCallback)((e=>n.createElement(Le.v,{placement:"bottomEnd",arrow:"topStart",title:u.ag.get("pick-and-shuffle.upsell.title.queue")},e)),[]),a=(0,n.useMemo)((()=>[{title:u.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:t,disabled:e},{title:u.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,t]);return n.createElement(De.w,null,n.createElement(Re.n,{className:qe,links:a}))},_e=()=>{const e=(0,s.nF)(),t=(0,c.Y)();return n.createElement("section",{className:"contentSpacing"},t&&n.createElement(r.A,{from:"/queue",to:"/history"}),e&&n.createElement(l.N,{path:"/history",pageId:i.W.NOWPLAYING_HISTORY},n.createElement(W,null)),n.createElement(l.N,{path:"/queue",pageId:i.W.NOWPLAYING_QUEUE},n.createElement(n.Suspense,{fallback:null},n.createElement(Oe,null))),e&&n.createElement(Qe,null))}},47991:(e,t,a)=>{a.d(t,{$:()=>n});const n=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-queue.js.map